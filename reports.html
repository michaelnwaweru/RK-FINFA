<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reports - RK-FINFA PMIS</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link rel="stylesheet" href="css/reports.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="images/logo-placeholder.png" alt="RK-FINFA" class="sidebar-logo">
                <h3>RK-FINFA PMIS</h3>
            </div>
            
            <nav class="sidebar-nav">
                <ul>
                    <li>
                        <a href="dashboard.html">
                            <i class="fas fa-tachometer-alt"></i>
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="projects.html">
                            <i class="fas fa-project-diagram"></i>
                            <span>Projects</span>
                        </a>
                    </li>
                    <li>
                        <a href="beneficiaries.html">
                            <i class="fas fa-users"></i>
                            <span>Beneficiaries</span>
                        </a>
                    </li>
                    <li>
                        <a href="finance.html">
                            <i class="fas fa-coins"></i>
                            <span>Finance</span>
                        </a>
                    </li>
                    <li class="active">
                        <a href="reports.html">
                            <i class="fas fa-file-alt"></i>
                            <span>Reports</span>
                        </a>
                    </li>
                    <li>
                        <a href="settings.html">
                            <i class="fas fa-cog"></i>
                            <span>Settings</span>
                        </a>
                    </li>
                </ul>
            </nav>
            
            <div class="sidebar-footer">
                <a href="index.html" class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i>
                    <span>Logout</span>
                </a>
            </div>
        </aside>
        
        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="main-header">
                <div class="header-left">
                    <button class="menu-toggle">
                        <i class="fas fa-bars"></i>
                    </button>
                    <h2>Reports & Analytics</h2>
                </div>
                
                <div class="header-right">
                    <button class="btn btn-primary" onclick="openReportBuilderModal()">
                        <i class="fas fa-plus"></i>
                        Custom Report
                    </button>
                    
                    <button class="btn btn-secondary" onclick="scheduleReport()">
                        <i class="fas fa-clock"></i>
                        Schedule
                    </button>
                    
                    <div class="notifications">
                        <button class="notification-btn">
                            <i class="fas fa-bell"></i>
                            <span class="badge">3</span>
                        </button>
                    </div>
                    
                    <div class="user-profile">
                        <img src="images/user-placeholder.png" alt="User" class="user-avatar">
                        <div class="user-info">
                            <span class="user-name">John Doe</span>
                            <span class="user-role">Administrator</span>
                        </div>
                    </div>
                </div>
            </header>
            
            <!-- Reports Content -->
            <div class="reports-content">
                <!-- Report Templates -->
                <div class="report-templates">
                    <h3>Quick Report Templates</h3>
                    <div class="templates-grid">
                        <div class="template-card" onclick="generateProjectSummary()">
                            <div class="template-icon blue">
                                <i class="fas fa-project-diagram"></i>
                            </div>
                            <div class="template-info">
                                <h4>Project Summary</h4>
                                <p>Comprehensive overview of all active projects</p>
                                <span class="template-meta">Last generated: Today</span>
                            </div>
                        </div>
                        
                        <div class="template-card" onclick="generateFinancialReport()">
                            <div class="template-icon green">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="template-info">
                                <h4>Financial Report</h4>
                                <p>Budget utilization and disbursement analysis</p>
                                <span class="template-meta">Last generated: 2 days ago</span>
                            </div>
                        </div>
                        
                        <div class="template-card" onclick="generateBeneficiaryReport()">
                            <div class="template-icon orange">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="template-info">
                                <h4>Beneficiary Report</h4>
                                <p>Demographics and participation statistics</p>
                                <span class="template-meta">Last generated: 1 week ago</span>
                            </div>
                        </div>
                        
                        <div class="template-card" onclick="generateImpactReport()">
                            <div class="template-icon purple">
                                <i class="fas fa-bullseye"></i>
                            </div>
                            <div class="template-info">
                                <h4>Impact Assessment</h4>
                                <p>Outcome measurement and success metrics</p>
                                <span class="template-meta">Last generated: 2 weeks ago</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics Dashboard -->
                <div class="analytics-section">
                    <div class="analytics-header">
                        <h3>Analytics Dashboard</h3>
                        <div class="date-selector">
                            <select id="analyticsTimeframe" class="filter-select">
                                <option value="week">This Week</option>
                                <option value="month" selected>This Month</option>
                                <option value="quarter">This Quarter</option>
                                <option value="year">This Year</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="analytics-grid">
                        <div class="analytics-card">
                            <div class="card-header">
                                <h4>Project Performance</h4>
                                <button class="btn-icon">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <div class="card-header">
                                <h4>Regional Impact</h4>
                                <button class="btn-icon">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <canvas id="regionalChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <div class="card-header">
                                <h4>Financial Flow</h4>
                                <button class="btn-icon">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <canvas id="financialChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="analytics-card">
                            <div class="card-header">
                                <h4>Beneficiary Growth</h4>
                                <button class="btn-icon">
                                    <i class="fas fa-expand"></i>
                                </button>
                            </div>
                            <div class="card-body">
                                <canvas id="growthChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Recent Reports -->
                <div class="recent-reports">
                    <div class="section-header">
                        <h3>Recent Reports</h3>
                        <div class="section-actions">
                            <button class="btn btn-secondary" onclick="exportReports()">
                                <i class="fas fa-download"></i>
                                Export All
                            </button>
                        </div>
                    </div>
                    
                    <div class="reports-table">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Report Name</th>
                                    <th>Type</th>
                                    <th>Period</th>
                                    <th>Generated By</th>
                                    <th>Date</th>
                                    <th>Status</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>Monthly Financial Summary - March 2024</td>
                                    <td>
                                        <span class="report-type financial">Financial</span>
                                    </td>
                                    <td>Mar 1 - Mar 31, 2024</td>
                                    <td>John Doe</td>
                                    <td>Apr 1, 2024</td>
                                    <td>
                                        <span class="status-badge completed">Completed</span>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Download">
                                                <i class="fas fa-download"></i>
                                            </button>
                                            <button class="btn-icon" title="Share">
                                                <i class="fas fa-share"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>Project Impact Assessment Q1 2024</td>
                                    <td>
                                        <span class="report-type impact">Impact</span>
                                    </td>
                                    <td>Jan 1 - Mar 31, 2024</td>
                                    <td>Mary Johnson</td>
                                    <td>Mar 28, 2024</td>
                                    <td>
                                        <span class="status-badge completed">Completed</span>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Download">
                                                <i class="fas fa-download"></i>
                                            </button>
                                            <button class="btn-icon" title="Share">
                                                <i class="fas fa-share"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>Beneficiary Demographics Report</td>
                                    <td>
                                        <span class="report-type beneficiary">Beneficiary</span>
                                    </td>
                                    <td>All Time</td>
                                    <td>Peter Smith</td>
                                    <td>Mar 25, 2024</td>
                                    <td>
                                        <span class="status-badge processing">Processing</span>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="View Progress">
                                                <i class="fas fa-clock"></i>
                                            </button>
                                            <button class="btn-icon" title="Cancel">
                                                <i class="fas fa-times"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                
                                <tr>
                                    <td>Regional Performance Analysis</td>
                                    <td>
                                        <span class="report-type project">Project</span>
                                    </td>
                                    <td>Feb 1 - Feb 29, 2024</td>
                                    <td>Jane Wilson</td>
                                    <td>Mar 20, 2024</td>
                                    <td>
                                        <span class="status-badge completed">Completed</span>
                                    </td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn-icon" title="View">
                                                <i class="fas fa-eye"></i>
                                            </button>
                                            <button class="btn-icon" title="Download">
                                                <i class="fas fa-download"></i>
                                            </button>
                                            <button class="btn-icon" title="Share">
                                                <i class="fas fa-share"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Key Performance Indicators -->
                <div class="kpi-section">
                    <h3>Key Performance Indicators</h3>
                    <div class="kpi-grid">
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <h4>Project Success Rate</h4>
                                <span class="kpi-trend up">
                                    <i class="fas fa-arrow-up"></i> 5%
                                </span>
                            </div>
                            <div class="kpi-value">87%</div>
                            <div class="kpi-target">Target: 85%</div>
                        </div>
                        
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <h4>Beneficiary Satisfaction</h4>
                                <span class="kpi-trend up">
                                    <i class="fas fa-arrow-up"></i> 3%
                                </span>
                            </div>
                            <div class="kpi-value">92%</div>
                            <div class="kpi-target">Target: 90%</div>
                        </div>
                        
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <h4>Budget Utilization</h4>
                                <span class="kpi-trend down">
                                    <i class="fas fa-arrow-down"></i> 2%
                                </span>
                            </div>
                            <div class="kpi-value">78%</div>
                            <div class="kpi-target">Target: 80%</div>
                        </div>
                        
                        <div class="kpi-card">
                            <div class="kpi-header">
                                <h4>Loan Repayment Rate</h4>
                                <span class="kpi-trend up">
                                    <i class="fas fa-arrow-up"></i> 1%
                                </span>
                            </div>
                            <div class="kpi-value">94%</div>
                            <div class="kpi-target">Target: 95%</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
    
    <!-- Report Builder Modal -->
    <div id="reportBuilderModal" class="modal">
        <div class="modal-content large">
            <div class="modal-header">
                <h3>Custom Report Builder</h3>
                <button class="close-modal" onclick="closeReportBuilderModal()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <form id="reportBuilderForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="reportName">Report Name</label>
                        <input type="text" id="reportName" required>
                    </div>
                    <div class="form-group">
                        <label for="reportType">Report Type</label>
                        <select id="reportType" required>
                            <option value="">Select Type</option>
                            <option value="project">Project Report</option>
                            <option value="financial">Financial Report</option>
                            <option value="beneficiary">Beneficiary Report</option>
                            <option value="impact">Impact Assessment</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="startDate">Start Date</label>
                        <input type="date" id="startDate" required>
                    </div>
                    <div class="form-group">
                        <label for="endDate">End Date</label>
                        <input type="date" id="endDate" required>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Select Projects</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="all" checked>
                            All Projects
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="kiambu-youth">
                            Kiambu Youth Empowerment
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="meru-women">
                            Meru Women's Cooperative
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="turkana-agri">
                            Turkana Agricultural Project
                        </label>
                    </div>
                </div>
                
                <div class="form-group">
                    <label>Include Sections</label>
                    <div class="checkbox-group">
                        <label class="checkbox-label">
                            <input type="checkbox" value="summary" checked>
                            Executive Summary
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="financial" checked>
                            Financial Analysis
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="beneficiaries">
                            Beneficiary Details
                        </label>
                        <label class="checkbox-label">
                            <input type="checkbox" value="charts">
                            Charts and Graphs
                        </label>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeReportBuilderModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Generate Report</button>
                </div>
            </form>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="js/reports.js"></script>
</body>
</html>